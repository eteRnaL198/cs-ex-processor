.data
	save:
	.space 400

.text
	la	$s0,	save			# 配列の先頭アドレス
	addiu	$a0,	$zero,	 63
	sw		$a0,	  0($s0)
	addiu	$a0,	$zero,	 86
	sw		$a0,	  4($s0)
	addiu	$a0,	$zero,	 64
	sw		$a0,	  8($s0)
	addiu	$a0,	$zero,	 98
	sw		$a0,	 12($s0)
	addiu	$a0,	$zero,	 44
	sw		$a0,	 16($s0)
	addiu	$a0,	$zero,	 31
	sw		$a0,	 20($s0)
	addiu	$a0,	$zero,	 75
	sw		$a0,	 24($s0)
	addiu	$a0,	$zero,	 90
	sw		$a0,	 28($s0)
	addiu	$a0,	$zero,	 18
	sw		$a0,	 32($s0)
	addiu	$a0,	$zero,	 52
	sw		$a0,	 36($s0)
	addiu	$a0,	$zero,	 14
	sw		$a0,	 40($s0)
	addiu	$a0,	$zero,	 30
	sw		$a0,	 44($s0)
	addiu	$a0,	$zero,	 69
	sw		$a0,	 48($s0)
	addiu	$a0,	$zero,	 23
	sw		$a0,	 52($s0)
	addiu	$a0,	$zero,	 57
	sw		$a0,	 56($s0)
	addiu	$a0,	$zero,	 12
	sw		$a0,	 60($s0)
	addiu	$a0,	$zero,	  9
	sw		$a0,	 64($s0)
	addiu	$a0,	$zero,	 56
	sw		$a0,	 68($s0)
	addiu	$a0,	$zero,	 53
	sw		$a0,	 72($s0)
	addiu	$a0,	$zero,	 35
	sw		$a0,	 76($s0)
	addiu	$a0,	$zero,	 51
	sw		$a0,	 80($s0)
	addiu	$a0,	$zero,	 20
	sw		$a0,	 84($s0)
	addiu	$a0,	$zero,	 61
	sw		$a0,	 88($s0)
	addiu	$a0,	$zero,	 46
	sw		$a0,	 92($s0)
	addiu	$a0,	$zero,	 65
	sw		$a0,	 96($s0)
	addiu	$a0,	$zero,	 43
	sw		$a0,	100($s0)
	addiu	$a0,	$zero,	  3
	sw		$a0,	104($s0)
	addiu	$a0,	$zero,	 16
	sw		$a0,	108($s0)
	addiu	$a0,	$zero,	 34
	sw		$a0,	112($s0)
	addiu	$a0,	$zero,	  5
	sw		$a0,	116($s0)
	addiu	$a0,	$zero,	 25
	sw		$a0,	120($s0)
	addiu	$a0,	$zero,	 68
	sw		$a0,	124($s0)
	addiu	$a0,	$zero,	 10
	sw		$a0,	128($s0)
	addiu	$a0,	$zero,	 28
	sw		$a0,	132($s0)
	addiu	$a0,	$zero,	 32
	sw		$a0,	136($s0)
	addiu	$a0,	$zero,	 77
	sw		$a0,	140($s0)
	addiu	$a0,	$zero,	 81
	sw		$a0,	144($s0)
	addiu	$a0,	$zero,	 97
	sw		$a0,	148($s0)
	addiu	$a0,	$zero,	  8
	sw		$a0,	152($s0)
	addiu	$a0,	$zero,	 42
	sw		$a0,	156($s0)
	addiu	$a0,	$zero,	 99
	sw		$a0,	160($s0)
	addiu	$a0,	$zero,	 26
	sw		$a0,	164($s0)
	addiu	$a0,	$zero,	 13
	sw		$a0,	168($s0)
	addiu	$a0,	$zero,	  1
	sw		$a0,	172($s0)
	addiu	$a0,	$zero,	 50
	sw		$a0,	176($s0)
	addiu	$a0,	$zero,	 24
	sw		$a0,	180($s0)
	addiu	$a0,	$zero,	 15
	sw		$a0,	184($s0)
	addiu	$a0,	$zero,	 71
	sw		$a0,	188($s0)
	addiu	$a0,	$zero,	 83
	sw		$a0,	192($s0)
	addiu	$a0,	$zero,	 22
	sw		$a0,	196($s0)
	addiu	$a0,	$zero,	 87
	sw		$a0,	200($s0)
	addiu	$a0,	$zero,	 72
	sw		$a0,	204($s0)
	addiu	$a0,	$zero,	 54
	sw		$a0,	208($s0)
	addiu	$a0,	$zero,	 48
	sw		$a0,	212($s0)
	addiu	$a0,	$zero,	 36
	sw		$a0,	216($s0)
	addiu	$a0,	$zero,	 19
	sw		$a0,	220($s0)
	addiu	$a0,	$zero,	  2
	sw		$a0,	224($s0)
	addiu	$a0,	$zero,	100
	sw		$a0,	228($s0)
	addiu	$a0,	$zero,	 66
	sw		$a0,	232($s0)
	addiu	$a0,	$zero,	 85
	sw		$a0,	236($s0)
	addiu	$a0,	$zero,	 93
	sw		$a0,	240($s0)
	addiu	$a0,	$zero,	 89
	sw		$a0,	244($s0)
	addiu	$a0,	$zero,	  4
	sw		$a0,	248($s0)
	addiu	$a0,	$zero,	 33
	sw		$a0,	252($s0)
	addiu	$a0,	$zero,	 67
	sw		$a0,	256($s0)
	addiu	$a0,	$zero,	 49
	sw		$a0,	260($s0)
	addiu	$a0,	$zero,	 29
	sw		$a0,	264($s0)
	addiu	$a0,	$zero,	 62
	sw		$a0,	268($s0)
	addiu	$a0,	$zero,	 96
	sw		$a0,	272($s0)
	addiu	$a0,	$zero,	 92
	sw		$a0,	276($s0)
	addiu	$a0,	$zero,	 41
	sw		$a0,	280($s0)
	addiu	$a0,	$zero,	 60
	sw		$a0,	284($s0)
	addiu	$a0,	$zero,	 37
	sw		$a0,	288($s0)
	addiu	$a0,	$zero,	 79
	sw		$a0,	292($s0)
	addiu	$a0,	$zero,	 47
	sw		$a0,	296($s0)
	addiu	$a0,	$zero,	 88
	sw		$a0,	300($s0)
	addiu	$a0,	$zero,	 38
	sw		$a0,	304($s0)
	addiu	$a0,	$zero,	 58
	sw		$a0,	308($s0)
	addiu	$a0,	$zero,	 84
	sw		$a0,	312($s0)
	addiu	$a0,	$zero,	  6
	sw		$a0,	316($s0)
	addiu	$a0,	$zero,	 40
	sw		$a0,	320($s0)
	addiu	$a0,	$zero,	 27
	sw		$a0,	324($s0)
	addiu	$a0,	$zero,	 82
	sw		$a0,	328($s0)
	addiu	$a0,	$zero,	 73
	sw		$a0,	332($s0)
	addiu	$a0,	$zero,	 80
	sw		$a0,	336($s0)
	addiu	$a0,	$zero,	 74
	sw		$a0,	340($s0)
	addiu	$a0,	$zero,	 45
	sw		$a0,	344($s0)
	addiu	$a0,	$zero,	 59
	sw		$a0,	348($s0)
	addiu	$a0,	$zero,	 55
	sw		$a0,	352($s0)
	addiu	$a0,	$zero,	  7
	sw		$a0,	356($s0)
	addiu	$a0,	$zero,	 91
	sw		$a0,	360($s0)
	addiu	$a0,	$zero,	 70
	sw		$a0,	364($s0)
	addiu	$a0,	$zero,	 94
	sw		$a0,	368($s0)
	addiu	$a0,	$zero,	 11
	sw		$a0,	372($s0)
	addiu	$a0,	$zero,	 17
	sw		$a0,	376($s0)
	addiu	$a0,	$zero,	 78
	sw		$a0,	380($s0)
	addiu	$a0,	$zero,	 21
	sw		$a0,	384($s0)
	addiu	$a0,	$zero,	 39
	sw		$a0,	388($s0)
	addiu	$a0,	$zero,	 76
	sw		$a0,	392($s0)
	addiu	$a0,	$zero,	 95
	sw		$a0,	396($s0)
	li	$v0,	1
	syscall

Sort0:
	#####################################
	#↓以下に並び替えのプログラム記述

  move	$4,$s0
	li	$5,99
	jal	insertionSort
	nop
	j	Done
	nop


insertionSort:
	.frame	$sp,0,$31		# vars= 0, regs= 0/0, args= 0, gp= 0
	.mask	0x00000000,0
	.fmask	0x00000000,0
	.set	noreorder
	.set	nomacro
	move	$2,$4
	addiu	$9,$4,4
	addiu	$11,$4,400
	move	$10,$0
	.option	pic0
	j	$L5
	.option	pic2
	li	$8,-1			# 0xffffffffffffffff

$L3:
	addiu	$4,$4,1
$L10:
	sll	$4,$4,2
	addu	$4,$2,$4
	sw	$7,0($4)
	addiu	$9,$9,4
	beq	$9,$11,$L11
	addiu	$10,$10,1

$L5:
	lw	$7,0($9)
	move	$4,$10
	bltz	$10,$L3
	move	$3,$9

$L2:
	lw	$5,-4($3)
	slt	$6,$7,$5
	beq	$6,$0,$L3
	nop

	sw	$5,0($3)
	addiu	$4,$4,-1
	bne	$4,$8,$L2
	addiu	$3,$3,-4

	.option	pic0
  j	$L10
	.option	pic2
	addiu	$4,$4,1

$L11:
	jr	$31
	nop







	# ↑ここまで
	#####################################
Done:	nop

	addiu	$t5,	$zero,	100
	li	$s3,	0x10018000		# $s3にRam1のアドレスをロード
	li	$s1,	0x10010000		# $s1が先頭アドレス
	sw	$t5,	12($s3)			# ブザーを鳴らす
	li	$s2,	0x10010190		# $s2が最終アドレス
	li	$v0,	1
	syscall					# 一時停止
	
	# addi	$t0,	$zero,	101		
	addi	$t0,	$zero,	0
TAtest:	addi	$t0,	$zero,	0		# 配列の中身が降順ソートされたか判定
	beq	$t0,	$zero,	TAt		# 最後まであっていたらブザーは鳴らない
	nop
	lw	$t1,	0($s1)			# 配列のロード
	nop
	beq	$t0,	$t1	TAtest		# 真の値と配列を比較
	addi	$s1,	$s1,	4		# 次の配列の要素へ移動
	addi 	$t5,	$zero,	300		# 違っている場合は高いブザー
	sw	$t5,	12($s3)			
	j	TAstop
	nop
TAt:	sw	$t5,	12($s3)			# 正しい場合は低いブザー
	nop
TAstop:	li	$v0,	1
	syscall					# 一時停止
	
	li	$s1,	0x10010000		# $s1が先頭アドレス
View:	lw	$t1,	0($s1)			# $t1に配列の先頭番地から順番にロード
	addi	$s1,	$s1,	4		# 次の配列の要素へ移動
	bne	$s1,	$s2,	View		# 終了判定
	sw	$t1,	0($s3)			# Ram1に書き込み(出力用)
	nop
	li	$v0,	10			# プログラムの終了
	syscall
